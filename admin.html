
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="assets/logo.png" type="image/png">
    <title>DPS VALORANT CHAMPIONS</title>
    <meta property="og:image" content="assets/logo.png">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <nav class="top-nav">
            <div class="nav-container">
                <a href="index.html" class="logo">DPS VALORANT CHAMPIONS</a>
                <ul class="nav-links" id="nav-links">
                    <li><a href="index.html">홈</a></li>
                    <li><a href="apply.html">대회 신청</a></li>
                    <li><a href="tier.html">등급표</a></li>
                    <li><a href="team.html">팀 목록</a></li>
                    <li><a href="match.html">대진표</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        <div class="container">
            <h1>관리자 페이지</h1>

            <div class="tabs">
                <a href="admin.html" class="tab-link active">참가 신청 관리</a>
                <a href="tier.html" class="tab-link">등급별 분류</a>
                <a href="team.html" class="tab-link">팀 목록</a>
                <button class="tab-link" data-tab="teams">팀 관리</button>
                <button class="tab-link" data-tab="matches">대진표 관리</button>
                <button class="tab-link" data-tab="terms">약관 관리</button>
            </div>

            <div id="applications" class="tab-content active">
                <div id="stats-container">
                    <div class="stat-box">
                        <h3>총 신청자</h3>
                        <p id="total-applicants">0</p>
                    </div>
                    <div class="chart-container">
                        <h3>반별 신청자</h3>
                        <canvas id="class-chart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>현재 티어 분포</h3>
                        <canvas id="current-tier-chart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>최대 티어 분포</h3>
                        <canvas id="peak-tier-chart"></canvas>
                    </div>
                </div>

                <h2>참가 신청 목록</h2>
                <div class="table-container">
                    <table class="applicant-table">
                        <thead>
                            <tr>
                                <th>신청자</th>
                                <th>연락처</th>
                                <th>학반</th>
                                <th>Riot ID</th>
                                <th>현재 티어</th>
                                <th>최대 티어</th>
                                <th>신청일</th>
                                <th>등급</th>
                                <th>상태</th>
                            </tr>
                        </thead>
                        <tbody id="applicant-list">
                            <!-- 동적으로 채워짐 -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="teams" class="tab-content" style="display: none;">
                <h2>팀 관리</h2>
                <div class="form-box">
                    <form id="manual-team-form">
                        <h3>수동으로 팀 만들기</h3>
                        <div class="form-group">
                            <label for="team-name">팀 이름</label>
                            <input type="text" id="team-name" name="team-name" required>
                        </div>
                        <div class="form-group">
                            <label for="team-members">팀원 선택 (5명)</label>
                            <div id="team-members-list" class="applicant-checkbox-list"></div>
                        </div>
                        <button type="submit" class="btn">팀 만들기</button>
                    </form>
                </div>
                <div class="form-box">
                    <h3>자동으로 팀 구성</h3>
                    <button id="auto-form-teams-btn" class="btn">자동으로 팀 구성</button>
                </div>
                <div id="team-lists-container">
                    <!-- 팀 목록이 여기에 동적으로 채워집니다. -->
                </div>
            </div>

            <div id="matches" class="tab-content" style="display: none;">
                <h2>대진표 관리</h2>
                <div class="form-box" id="match-form-container" style="display: none;">
                    <form id="match-form">
                        <input type="hidden" id="match-id" name="match-id">
                        <div class="form-group">
                            <label for="match-datetime">경기 날짜 및 시간</label>
                            <input type="datetime-local" id="match-datetime" name="match-datetime" required>
                        </div>
                        <div class="form-group">
                            <label for="match-team1">팀 1</label>
                            <select id="match-team1" name="match-team1"></select>
                        </div>
                        <div class="form-group">
                            <label for="match-team2">팀 2</label>
                            <select id="match-team2" name="match-team2"></select>
                        </div>
                        <button type="submit" class="btn">경기 저장</button>
                        <button type="button" id="cancel-match-edit" class="btn btn-danger">취소</button>
                    </form>
                </div>
                <button id="add-match-btn" class="btn">새 경기 추가</button>
                <div class="table-container" style="margin-top: 2rem;">
                    <table class="applicant-table">
                        <thead>
                            <tr>
                                <th>경기 일시</th>
                                <th>팀 1</th>
                                <th>팀 2</th>
                                <th>관리</th>
                            </tr>
                        </thead>
                        <tbody id="match-list">
                            <!-- 대진표 목록이 여기에 동적으로 채워집니다. -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="terms" class="tab-content" style="display: none;">
                <h2>약관 및 안내사항 관리</h2>
                <div class="form-box">
                    <form id="terms-form">
                        <div class="form-group">
                            <label for="terms-check">확인할 사항</label>
                            <textarea id="terms-check" name="terms-check" rows="8"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="terms-conditions">대회 참가 약관</label>
                            <textarea id="terms-conditions" name="terms-conditions" rows="8"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="terms-coc">경기 중 행동 강령</label>
                            <textarea id="terms-coc" name="terms-coc" rows="8"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="terms-privacy">개인정보 처리방침</label>
                            <textarea id="terms-privacy" name="terms-privacy" rows="8"></textarea>
                        </div>
                        <button type="submit" class="btn">약관 저장</button>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <p>&copy; 2025 DPS Team. All rights reserved.</p>
    </footer>

    <script type="module" src="js/admin.js"></script>

    <!-- Custom Modal -->
    <div class="modal-overlay" id="custom-modal">
        <div class="modal-popup">
            <div class="modal-spinner" id="modal-spinner"></div>
            <p id="modal-message"></p>
            <button class="btn btn-small" id="modal-close-btn">확인</button>
        </div>
    </div>
</body>
</html>
